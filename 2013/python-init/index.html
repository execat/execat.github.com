<!DOCTYPE html>
<html>
<head>
<title>Class scopes in Python &#8211; execat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta charset="UTF-8" />
<meta name="description" content="">
<meta name="keywords" content="">

<link type="text/plain" rel="author" href="http://http://execat.github.io/humans.txt" />
<link rel="stylesheet" type="text/css" href="/assets/css/style.css" media="screen" />
<link rel="stylesheet" type="text/css" href="/assets/css/font.css" media="screen" />
<script src="/assets/js/blog.js" type="text/javascript"></script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://execat.github.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Refer to http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, minimum-scale=0.5">
<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

</head>

<body id="blog">
<header id="sidebar">
<aside id="logo" class="clearfix">
<div class="clearfix">
<a href="/"></a>
</div>
</aside>
<ul id="user_meta">
<li class="blog_name">
<h1 id="blog_name">
<a href="/">execat's blog</a>
</h1>
</li>
<li class="tagline">
<h2 id="tagline">
anuj | more
</h2>
</li>
<li class="link">
<a href="https://github.com/execat">github.com/execat</a>
</li>
<li class="link twitter">
<a href="https://twitter.com/execat" target="_blank">@execat</a>
</li>
<li class="link feed">
<a href="http://execat.github.io/feed.xml">RSS feed</a>
</li>
</ul>
<aside id="linkback"><span class="linkback_text">Display this shit</span><strong><a href="#">anuj | more</a></strong>
</a>
</aside>
</header>

<!-- <section>..</section> goes here -->
<section id="river" role="main">
<header id="postedbar">
<time style="color:#613854">Posted on</time>
<br />
<time id="top_time" datetime="09/07/2013">07/09/2013</time>
<div id="backhome">
<a href="/">Homepage</a>
</div>
</header>
<article id="/2013/python-init" class="post">
<div id="datebar">2013-07-09 11:10:00 +0000</div>
<h2>
<a href="/2013/python-init" style="border: none; !important;">Class scopes in Python</a>
</h2>
<div id="postSpecs" style="letter-spacing: 0.1em;">
158 words &#8226; reading time ??? minutes
</div>
<div id="likes" class="click_like">
<!--
<a href="#"><i class="icon-thumbs-up" onClick="make_count(jQuery(this)); return false;" style="margin-left: 0px;" data-id="sample_post">0</i>
</a>
-->
</div>
<p>
<p>Consider a class like this:</p>

<div class="highlight"><pre><code class="python"><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
  <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>   <span class="c">#=&gt; Creates one MyClass object</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>   <span class="c">#=&gt; Creates another MyClass object</span>

<span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">123</span>       <span class="c">#=&gt; a.x = 123 and b.x = 0</span>
<span class="n">b</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">42</span>        <span class="c">#=&gt; a.x = 123 and b.x = 42</span>
</code></pre></div>

<p>Not that bad. Nothing weird.</p>

<p>Well, that’s just because it doesn’t matter much for immutable objects like ints, but if x was a mutable type, like a list, it could have unexpected consequences.</p>

<div class="highlight"><pre><code class="python"><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
  <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>   <span class="c">#=&gt; Creates one MyClass object</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>   <span class="c">#=&gt; Creates another MyClass object</span>
                <span class="c">#=&gt; a.x = [1,2,3] and b.x = [1,2,3]</span>

<span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>   <span class="c">#=&gt; a.x = [1,2,3,4] and b.x = [1,2,3,4]</span>
<span class="n">b</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>   <span class="c">#=&gt; a.x = [4,3,2,1] and b.x = [4,3,2,1]</span>
</code></pre></div>

<p>Solution: MyClass should bind instance variables in <code>__init__</code>, rather than doing it in the class scope.</p>

</p>
</article>
<footer id="paginate"></footer>
<footer><h6><a rel="license" href=""><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a></h6>

<p><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">execat's blog</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://execat.github.io" rel="dct:source">http://execat.github.io</a>. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://execat.github.io/wlrs">wlrs</a> theme.</p>

<h6>&copy; 2013 Anuj More. </h6></footer>
</section>

</body>
</html>